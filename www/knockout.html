<div data-bind="with: bill">
    <h3>Gozintas</h3>
    <p>Total Amount: <input data-bind="value: total.formattedPrice" /></p>
    <p>Tax Amount: <input data-bind="value: tax.formattedPrice" /></p>
    Group mode<input type="radio" name="gozMode" value="group" data-bind="checked: gozMode, disable: total() == 0" />
    Determine tip mode <input type="radio" name="gozMode" value="determine-tip" data-bind="checked: gozMode, disable: total()== 0" />
</div>

<div data-bind="with: bill, visible: bill.total() > 0">
    <p data-bind="visible: hasGeneral">General Tip: <input data-bind="value: tip.general.formattedTip" /></p>  
    <p data-bind="visible: hasWine">Wine Tip: <input data-bind="value: tip.wine.formattedTip" /></p>  
    <p data-bind="visible: hasTax">Tax Tip: <input data-bind="value: tip.tax.formattedTip" /></p>  
    <p data-bind="visible: hasCarryout">Carryout Tip: <input data-bind="value: tip.carryout" /></p>
</div>

<div data-bind="with: bill, visible: bill.gozMode() =='group'">
    <h3>Group Mode</h3>
    <table>
        <thead>
            <tr>
                <th>Nickname</th>
                <th>People In Party</th>
                <th>Drinks/Deserts/Etc</th>
                <th>Wine</th>
                <th>Carryout</th>
            </tr>
        </thead>
        <tbody data-bind="foreach: groups">
            <tr>
                <td><input data-bind="value: nickname"></input></td>
                <td><input data-bind="value: peopleInParty"></input></td>
                <td><input data-bind="value: general.formattedPrice"></input></td>
                <td><input data-bind="value: wine.formattedPrice"></input></td>   
                <td><input data-bind="value: carryout.formattedPrice"></input></td>    
                <td><a href="#" data-bind="click: $parent.removeGroup">Remove</a></td>            
            </tr>
        </tbody>
    </table>
    <button data-bind="click: addGroup">Add Group</button>
</div>

<div data-bind="with: bill, visible: bill.gozMode() =='determine-tip'">
    <h3>Determine tip!!</h3>
    <p>Total Amount: <div data-bind="text: total "></div></p>
    <p data-bind="visible: hasGeneral">General Tip: <input data-bind="value: tip.general.formattedTip" /></p>  
    <p data-bind="visible: hasTax">Tax Tip: <input data-bind="value: tip.tax.formattedTip" /></p>
    <p>Food Total (<span data-bind="text: tip.general.formattedTip"></span>) <span data-bind="text: total.formattedPrice"></span></p>
    <p>Tax Total (<span data-bind="text: tip.tax.formattedTip"></span>) <span data-bind="text: tax.formattedPrice"></span></p>
    <p>Calculated total: <span data-bind="text: calculatedTotal()"></span></p>
</div>

<pre data-bind="text: JSON.stringify(ko.toJS($data), null, 3)"></pre>

<link rel="stylesheet" type="text/css" href="css/index.css">
<script type='text/javascript' src='knockout-2.2.0.debug.js'></script>
<script type='text/javascript' src='knockout.validation.js'></script>
<script type='text/javascript' src='application.js'></script>
